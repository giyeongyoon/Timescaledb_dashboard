[Unit]
Description=MQTT Sensor to TimescaleDB
After=network.target

[Service]
User=pi
Group=www-data
WorkingDirectory=/home/pi02/git/Timescaledb_dashboard
ExecStart=/home/pi02/git/Timescaledb_dashboard/venv/bin/python3 sensor.py

Restart=always
RestartSec=5
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target


/etc/systemd/system/SCRIPT_NAME.service
[Unit]
Description=Unicorn Daemon for Timescaledb Dashboard
After=network.target

[Service]
User=pi
Group=www-data
WorkingDirectory=/home/pi02/git/Timescaledb_dashboard
ExecStart=/home/pi02/git/Timescaledb_dashboard/venv/bin/gunicorn --workers 1 --bind unix:/home/pi02/git/Timescaledb_dashboard/Timescaledb_dashboard_socket.sock app:app

ExecReload=/bin/kill -s HUP $MAINPID
ExecStop=/bin/kill -s TERM $MAINPID


[Install]
WantedBy=multi-user.target

$ sudo systemctl daemon-reload && sudo systemctl enable SCRIPT_NAME
$ sudo service SCRIPT_NAME start

/etc/nginx/sites-enabled/SCRIPT_NAME.conf
server {
        listen   8000; ## listen for port 8000
        location / {
        include proxy_params;
        proxy_pass http://unix:/home/pi/git/Timescaledb_dashboard/Timescaledb_dashboard_socket.sock;
    }
}


$ sudo service nginx restart